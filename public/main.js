/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";const t=window,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,r=Symbol(),n=new WeakMap;class i{constructor(t,e,n){if(this._$cssResult$=!0,n!==r)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const r=this.t;if(e&&void 0===t){const e=void 0!==r&&1===r.length;e&&(t=n.get(r)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&n.set(r,t))}return t}toString(){return this.cssText}}const o=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,r,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[n+1]),t[0]);return new i(n,t,r)},s=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const r of t.cssRules)e+=r.cssText;return(t=>new i("string"==typeof t?t:t+"",void 0,r))(e)})(t):t;var l;const u=window,c=u.trustedTypes,a=c?c.emptyScript:"",h=u.reactiveElementPolyfillSupport,d={toAttribute(t,e){switch(e){case Boolean:t=t?a:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=null!==t;break;case Number:r=null===t?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch(t){r=null}}return r}},f=(t,e)=>e!==t&&(e==e||t==t),p={attribute:!0,type:String,converter:d,reflect:!1,hasChanged:f};class v extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,r)=>{const n=this._$Ep(r,e);void 0!==n&&(this._$Ev.set(n,r),t.push(n))})),t}static createProperty(t,e=p){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const r="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,r,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,r){return{get(){return this[e]},set(n){const i=this[t];this[e]=n,this.requestUpdate(t,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||p}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const r of e)this.createProperty(r,t[r])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const t of r)e.unshift(s(t))}else void 0!==t&&e.push(s(t));return e}static _$Ep(t,e){const r=e.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,r;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(r=t.hostConnected)||void 0===r||r.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var r;const n=null!==(r=this.shadowRoot)&&void 0!==r?r:this.attachShadow(this.constructor.shadowRootOptions);return((r,n)=>{e?r.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((e=>{const n=document.createElement("style"),i=t.litNonce;void 0!==i&&n.setAttribute("nonce",i),n.textContent=e.cssText,r.appendChild(n)}))})(n,this.constructor.elementStyles),n}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,r){this._$AK(t,r)}_$EO(t,e,r=p){var n;const i=this.constructor._$Ep(t,r);if(void 0!==i&&!0===r.reflect){const o=(void 0!==(null===(n=r.converter)||void 0===n?void 0:n.toAttribute)?r.converter:d).toAttribute(e,r.type);this._$El=t,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(t,e){var r;const n=this.constructor,i=n._$Ev.get(t);if(void 0!==i&&this._$El!==i){const t=n.getPropertyOptions(i),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(r=t.converter)||void 0===r?void 0:r.fromAttribute)?t.converter:d;this._$El=i,this[i]=o.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,r){let n=!0;void 0!==t&&(((r=r||this.constructor.getPropertyOptions(t)).hasChanged||f)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===r.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,r))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(r)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(r)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}var b;v.finalized=!0,v.elementProperties=new Map,v.elementStyles=[],v.shadowRootOptions={mode:"open"},null==h||h({ReactiveElement:v}),(null!==(l=u.reactiveElementVersions)&&void 0!==l?l:u.reactiveElementVersions=[]).push("1.6.1");const y=window,m=y.trustedTypes,_=m?m.createPolicy("lit-html",{createHTML:t=>t}):void 0,g="$lit$",w=`lit$${(Math.random()+"").slice(9)}$`,$="?"+w,A=`<${$}>`,S=document,x=()=>S.createComment(""),E=t=>null===t||"object"!=typeof t&&"function"!=typeof t,O=Array.isArray,P=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,C=/-->/g,T=/>/g,j=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),k=/'/g,R=/"/g,I=/^(?:script|style|textarea|title)$/i,U=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),z=U(1),H=(U(2),Symbol.for("lit-noChange")),N=Symbol.for("lit-nothing"),q=new WeakMap,M=S.createTreeWalker(S,129,null,!1),B=(t,e)=>{const r=t.length-1,n=[];let i,o=2===e?"<svg>":"",s=P;for(let e=0;e<r;e++){const r=t[e];let l,u,c=-1,a=0;for(;a<r.length&&(s.lastIndex=a,u=s.exec(r),null!==u);)a=s.lastIndex,s===P?"!--"===u[1]?s=C:void 0!==u[1]?s=T:void 0!==u[2]?(I.test(u[2])&&(i=RegExp("</"+u[2],"g")),s=j):void 0!==u[3]&&(s=j):s===j?">"===u[0]?(s=null!=i?i:P,c=-1):void 0===u[1]?c=-2:(c=s.lastIndex-u[2].length,l=u[1],s=void 0===u[3]?j:'"'===u[3]?R:k):s===R||s===k?s=j:s===C||s===T?s=P:(s=j,i=void 0);const h=s===j&&t[e+1].startsWith("/>")?" ":"";o+=s===P?r+A:c>=0?(n.push(l),r.slice(0,c)+g+r.slice(c)+w+h):r+w+(-2===c?(n.push(void 0),e):h)}const l=o+(t[r]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==_?_.createHTML(l):l,n]};class D{constructor({strings:t,_$litType$:e},r){let n;this.parts=[];let i=0,o=0;const s=t.length-1,l=this.parts,[u,c]=B(t,e);if(this.el=D.createElement(u,r),M.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=M.nextNode())&&l.length<s;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith(g)||e.startsWith(w)){const r=c[o++];if(t.push(e),void 0!==r){const t=n.getAttribute(r.toLowerCase()+g).split(w),e=/([.?@])?(.*)/.exec(r);l.push({type:1,index:i,name:e[2],strings:t,ctor:"."===e[1]?V:"?"===e[1]?Y:"@"===e[1]?Z:F})}else l.push({type:6,index:i})}for(const e of t)n.removeAttribute(e)}if(I.test(n.tagName)){const t=n.textContent.split(w),e=t.length-1;if(e>0){n.textContent=m?m.emptyScript:"";for(let r=0;r<e;r++)n.append(t[r],x()),M.nextNode(),l.push({type:2,index:++i});n.append(t[e],x())}}}else if(8===n.nodeType)if(n.data===$)l.push({type:2,index:i});else{let t=-1;for(;-1!==(t=n.data.indexOf(w,t+1));)l.push({type:7,index:i}),t+=w.length-1}i++}}static createElement(t,e){const r=S.createElement("template");return r.innerHTML=t,r}}function L(t,e,r=t,n){var i,o,s,l;if(e===H)return e;let u=void 0!==n?null===(i=r._$Co)||void 0===i?void 0:i[n]:r._$Cl;const c=E(e)?void 0:e._$litDirective$;return(null==u?void 0:u.constructor)!==c&&(null===(o=null==u?void 0:u._$AO)||void 0===o||o.call(u,!1),void 0===c?u=void 0:(u=new c(t),u._$AT(t,r,n)),void 0!==n?(null!==(s=(l=r)._$Co)&&void 0!==s?s:l._$Co=[])[n]=u:r._$Cl=u),void 0!==u&&(e=L(t,u._$AS(t,e.values),u,n)),e}class Q{constructor(t,e){this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(t){var e;const{el:{content:r},parts:n}=this._$AD,i=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:S).importNode(r,!0);M.currentNode=i;let o=M.nextNode(),s=0,l=0,u=n[0];for(;void 0!==u;){if(s===u.index){let e;2===u.type?e=new W(o,o.nextSibling,this,t):1===u.type?e=new u.ctor(o,u.name,u.strings,this,t):6===u.type&&(e=new J(o,this,t)),this.u.push(e),u=n[++l]}s!==(null==u?void 0:u.index)&&(o=M.nextNode(),s++)}return i}p(t){let e=0;for(const r of this.u)void 0!==r&&(void 0!==r.strings?(r._$AI(t,r,e),e+=r.strings.length-2):r._$AI(t[e])),e++}}class W{constructor(t,e,r,n){var i;this.type=2,this._$AH=N,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=r,this.options=n,this._$Cm=null===(i=null==n?void 0:n.isConnected)||void 0===i||i}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cm}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=L(this,t,e),E(t)?t===N||null==t||""===t?(this._$AH!==N&&this._$AR(),this._$AH=N):t!==this._$AH&&t!==H&&this.g(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>O(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.k(t):this.g(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}g(t){this._$AH!==N&&E(this._$AH)?this._$AA.nextSibling.data=t:this.T(S.createTextNode(t)),this._$AH=t}$(t){var e;const{values:r,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=D.createElement(n.h,this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.p(r);else{const t=new Q(i,this),e=t.v(this.options);t.p(r),this.T(e),this._$AH=t}}_$AC(t){let e=q.get(t.strings);return void 0===e&&q.set(t.strings,e=new D(t)),e}k(t){O(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let r,n=0;for(const i of t)n===e.length?e.push(r=new W(this.S(x()),this.S(x()),this,this.options)):r=e[n],r._$AI(i),n++;n<e.length&&(this._$AR(r&&r._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var r;for(null===(r=this._$AP)||void 0===r||r.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cm=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class F{constructor(t,e,r,n,i){this.type=1,this._$AH=N,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=N}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,r,n){const i=this.strings;let o=!1;if(void 0===i)t=L(this,t,e,0),o=!E(t)||t!==this._$AH&&t!==H,o&&(this._$AH=t);else{const n=t;let s,l;for(t=i[0],s=0;s<i.length-1;s++)l=L(this,n[r+s],e,s),l===H&&(l=this._$AH[s]),o||(o=!E(l)||l!==this._$AH[s]),l===N?t=N:t!==N&&(t+=(null!=l?l:"")+i[s+1]),this._$AH[s]=l}o&&!n&&this.j(t)}j(t){t===N?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class V extends F{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===N?void 0:t}}const K=m?m.emptyScript:"";class Y extends F{constructor(){super(...arguments),this.type=4}j(t){t&&t!==N?this.element.setAttribute(this.name,K):this.element.removeAttribute(this.name)}}class Z extends F{constructor(t,e,r,n,i){super(t,e,r,n,i),this.type=5}_$AI(t,e=this){var r;if((t=null!==(r=L(this,t,e,0))&&void 0!==r?r:N)===H)return;const n=this._$AH,i=t===N&&n!==N||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==N&&(n===N||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,r;"function"==typeof this._$AH?this._$AH.call(null!==(r=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==r?r:this.element,t):this._$AH.handleEvent(t)}}class J{constructor(t,e,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){L(this,t)}}const G=y.litHtmlPolyfillSupport;var X,tt;null==G||G(D,W),(null!==(b=y.litHtmlVersions)&&void 0!==b?b:y.litHtmlVersions=[]).push("2.7.0");class et extends v{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const r=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=r.firstChild),r}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,r)=>{var n,i;const o=null!==(n=null==r?void 0:r.renderBefore)&&void 0!==n?n:e;let s=o._$litPart$;if(void 0===s){const t=null!==(i=null==r?void 0:r.renderBefore)&&void 0!==i?i:null;o._$litPart$=s=new W(e.insertBefore(x(),t),t,void 0,null!=r?r:{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return H}}et.finalized=!0,et._$litElement$=!0,null===(X=globalThis.litElementHydrateSupport)||void 0===X||X.call(globalThis,{LitElement:et});const rt=globalThis.litElementPolyfillSupport;null==rt||rt({LitElement:et}),(null!==(tt=globalThis.litElementVersions)&&void 0!==tt?tt:globalThis.litElementVersions=[]).push("3.3.0");const nt=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:r,elements:n}=e;return{kind:r,elements:n,finisher(e){customElements.define(t,e)}}})(t,e),it=o`vote-bar{display:flex;flex-direction:row;justify-content:space-between}`;function ot(t,e,r){return r?new lt(t,e,r):new st(t,e)}class st{constructor(t,e){this.host=t,this.source=e,this.sub=null,this.host.addController(this)}hostConnected(){this.sub=this.source.subscribe((t=>{this.value=t,this.host.requestUpdate()}))}hostDisconnected(){this.sub?.unsubscribe()}}class lt{constructor(t,e,r){this.host=t,this.source=e,this.value=r,this.sub=null,this.host.addController(this)}hostConnected(){this.sub=this.source.subscribe((t=>{this.value=t,this.host.requestUpdate()}))}hostDisconnected(){this.sub?.unsubscribe()}}var ut=function(t,e){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},ut(t,e)};function ct(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}ut(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var at=function(){return at=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},at.apply(this,arguments)};function ht(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function dt(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function pt(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function vt(t){return this instanceof vt?(this.v=t,this):new vt(t)}function bt(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){o.push([t,e,r,n])>1||l(t,e)}))})}function l(t,e){try{(r=i[t](e)).value instanceof vt?Promise.resolve(r.value.v).then(u,c):a(o[0][2],r)}catch(t){a(o[0][3],t)}var r}function u(t){l("next",t)}function c(t){l("throw",t)}function a(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function yt(t){return"function"==typeof t}function mt(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create;var _t=mt((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function gt(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var wt=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=dt(o),l=s.next();!l.done;l=s.next())l.value.remove(this)}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else o.remove(this);var u=this.initialTeardown;if(yt(u))try{u()}catch(t){i=t instanceof _t?t.errors:[t]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var a=dt(c),h=a.next();!h.done;h=a.next()){var d=h.value;try{St(d)}catch(t){i=null!=i?i:[],t instanceof _t?i=pt(pt([],ft(i)),ft(t.errors)):i.push(t)}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}if(i)throw new _t(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)St(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&gt(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&gt(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),$t=wt.EMPTY;function At(t){return t instanceof wt||t&&"closed"in t&&yt(t.remove)&&yt(t.add)&&yt(t.unsubscribe)}function St(t){yt(t)?t():t.unsubscribe()}var xt=null,Et=null,Ot=void 0,Pt=!1,Ct=!1,Tt={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=Tt.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,pt([t,e],ft(r))):setTimeout.apply(void 0,pt([t,e],ft(r)))},clearTimeout:function(t){var e=Tt.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function jt(t){Tt.setTimeout((function(){if(!xt)throw t;xt(t)}))}function kt(){}var Rt=It("C",void 0,void 0);function It(t,e,r){return{kind:t,value:e,error:r}}var Ut=null;function zt(t){if(Pt){var e=!Ut;if(e&&(Ut={errorThrown:!1,error:null}),t(),e){var r=Ut,n=r.errorThrown,i=r.error;if(Ut=null,n)throw i}}else t()}var Ht=function(t){function e(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,At(e)&&e.add(r)):r.destination=Qt,r}return ct(e,t),e.create=function(t,e,r){return new Bt(t,e,r)},e.prototype.next=function(t){this.isStopped?Lt(function(t){return It("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?Lt(It("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?Lt(Rt,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(wt),Nt=Function.prototype.bind;function qt(t,e){return Nt.call(t,e)}var Mt=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){Dt(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){Dt(t)}else Dt(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){Dt(t)}},t}(),Bt=function(t){function e(e,r,n){var i,o,s=t.call(this)||this;return yt(e)||!e?i={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&Ct?((o=Object.create(e)).unsubscribe=function(){return s.unsubscribe()},i={next:e.next&&qt(e.next,o),error:e.error&&qt(e.error,o),complete:e.complete&&qt(e.complete,o)}):i=e,s.destination=new Mt(i),s}return ct(e,t),e}(Ht);function Dt(t){var e;Pt?(e=t,Pt&&Ut&&(Ut.errorThrown=!0,Ut.error=e)):jt(t)}function Lt(t,e){var r=Et;r&&Tt.setTimeout((function(){return r(t,e)}))}var Qt={closed:!0,next:kt,error:function(t){throw t},complete:kt},Wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ft(t){return t}function Vt(t){return 0===t.length?Ft:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Kt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n,i=this,o=(n=t)&&n instanceof Ht||function(t){return t&&yt(t.next)&&yt(t.error)&&yt(t.complete)}(n)&&At(n)?t:new Bt(t,e,r);return zt((function(){var t=i,e=t.operator,r=t.source;o.add(e?e.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=Yt(e))((function(e,n){var i=new Bt({next:function(e){try{t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:e});r.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[Wt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vt(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Yt(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function Yt(t){var e;return null!==(e=null!=t?t:Ot)&&void 0!==e?e:Promise}var Zt=mt((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Jt=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return ct(e,t),e.prototype.lift=function(t){var e=new Gt(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Zt},e.prototype.next=function(t){var e=this;zt((function(){var r,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=dt(e.currentObservers),o=i.next();!o.done;o=i.next())o.value.next(t)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},e.prototype.error=function(t){var e=this;zt((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var r=e.observers;r.length;)r.shift().error(t)}}))},e.prototype.complete=function(){var t=this;zt((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?$t:(this.currentObservers=null,o.push(t),new wt((function(){e.currentObservers=null,gt(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,r=e.hasError,n=e.thrownError,i=e.isStopped;r?t.error(n):i&&t.complete()},e.prototype.asObservable=function(){var t=new Kt;return t.source=this,t},e.create=function(t,e){return new Gt(t,e)},e}(Kt),Gt=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return ct(e,t),e.prototype.next=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)},e.prototype.error=function(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:$t},e}(Jt),Xt={now:function(){return(Xt.delegate||Date).now()},delegate:void 0},te=function(t){function e(e,r,n){void 0===e&&(e=1/0),void 0===r&&(r=1/0),void 0===n&&(n=Xt);var i=t.call(this)||this;return i._bufferSize=e,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,e),i._windowTime=Math.max(1,r),i}return ct(e,t),e.prototype.next=function(e){var r=this,n=r.isStopped,i=r._buffer,o=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;n||(i.push(e),!o&&i.push(s.now()+l)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!t.closed;i+=r?1:2)t.next(n[i]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,r=t._timestampProvider,n=t._buffer,i=t._infiniteTimeWindow,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){for(var s=r.now(),l=0,u=1;u<n.length&&n[u]<=s;u+=2)l=u;l&&n.splice(0,l+1)}},e}(Jt),ee=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function re(t){return yt(null==t?void 0:t.then)}function ne(t){return yt(t[Wt])}function ie(t){return Symbol.asyncIterator&&yt(null==t?void 0:t[Symbol.asyncIterator])}function oe(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var se="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function le(t){return yt(null==t?void 0:t[se])}function ue(t){return bt(this,arguments,(function(){var e,r,n;return ht(this,(function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,vt(e.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,vt(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,vt(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function ce(t){return yt(null==t?void 0:t.getReader)}function ae(t){if(t instanceof Kt)return t;if(null!=t){if(ne(t))return i=t,new Kt((function(t){var e=i[Wt]();if(yt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ee(t))return n=t,new Kt((function(t){for(var e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()}));if(re(t))return r=t,new Kt((function(t){r.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,jt)}));if(ie(t))return he(t);if(le(t))return e=t,new Kt((function(t){var r,n;try{for(var i=dt(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()}));if(ce(t))return he(ue(t))}var e,r,n,i;throw oe(t)}function he(t){return new Kt((function(e){(function(t,e){var r,n,i,o;return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{u(n.next(t))}catch(t){o(t)}}function l(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,l)}u((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var s,l;return ht(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=dt(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,i,(e=t[r](e)).done,e.value)}))}}}(t),u.label=1;case 1:return[4,r.next()];case 2:if((n=u.sent()).done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=u.sent(),i={error:l},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function de(t){return function(e){if(function(t){return yt(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==e){if(!1!==e){var i=new Bt({next:function(){i.unsubscribe(),t()}});return ae(e.apply(void 0,pt([],ft(r)))).subscribe(i)}}else t()}function pe(t,e,r){var n,i,o,s,l=!1;return t&&"object"==typeof t?(n=t.bufferSize,s=void 0===n?1/0:n,i=t.windowTime,e=void 0===i?1/0:i,l=void 0!==(o=t.refCount)&&o,r=t.scheduler):s=null!=t?t:1/0,function(t){void 0===t&&(t={});var e=t.connector,r=void 0===e?function(){return new Jt}:e,n=t.resetOnError,i=void 0===n||n,o=t.resetOnComplete,s=void 0===o||o,l=t.resetOnRefCountZero,u=void 0===l||l;return function(t){var e,n,o,l=0,c=!1,a=!1,h=function(){null==n||n.unsubscribe(),n=void 0},d=function(){h(),e=o=void 0,c=a=!1},f=function(){var t=e;d(),null==t||t.unsubscribe()};return de((function(t,p){l++,a||c||h();var v=o=null!=o?o:r();p.add((function(){0!=--l||a||c||(n=fe(f,u))})),v.subscribe(p),!e&&l>0&&(e=new Bt({next:function(t){return v.next(t)},error:function(t){a=!0,h(),n=fe(d,i,t),v.error(t)},complete:function(){c=!0,h(),n=fe(d,s),v.complete()}}),ae(t).subscribe(e))}))(t)}}({connector:function(){return new te(s,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}var ve=function(t){function e(e,r){return t.call(this)||this}return ct(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(wt),be={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=be.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,pt([t,e],ft(r))):setInterval.apply(void 0,pt([t,e],ft(r)))},clearInterval:function(t){var e=be.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},ye=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return ct(e,t),e.prototype.schedule=function(t,e){var r;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),be.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&be.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r,n=!1;try{this.work(t)}catch(t){n=!0,r=t||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,gt(n,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(ve),me=function(){function t(e,r){void 0===r&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(r,e)},t.now=Xt.now,t}(),_e=new(function(t){function e(e,r){void 0===r&&(r=me.now);var n=t.call(this,e,r)||this;return n.actions=[],n._active=!1,n}return ct(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(me))(ye),ge=_e;function we(t,e,r,n,i){return new $e(t,e,r,n,i)}var $e=function(t){function e(e,r,n,i,o,s){var l=t.call(this,e)||this;return l.onFinalize=o,l.shouldUnsubscribe=s,l._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,l._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,l}return ct(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(Ht);function Ae(t,e){return de((function(r,n){var i=0;r.subscribe(we(n,(function(r){n.next(t.call(e,r,i++))})))}))}function Se(t,e,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=e.schedule((function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()}),n);if(t.add(o),!i)return o}function xe(t,e,r){return void 0===r&&(r=1/0),yt(e)?xe((function(r,n){return Ae((function(t,i){return e(r,t,n,i)}))(ae(t(r,n)))}),r):("number"==typeof e&&(r=e),de((function(e,n){return function(t,e,r,n,i,o,s,l){var u=[],c=0,a=0,h=!1,d=function(){!h||u.length||c||e.complete()},f=function(t){return c<n?p(t):u.push(t)},p=function(t){c++;var i=!1;ae(r(t,a++)).subscribe(we(e,(function(t){e.next(t)}),(function(){i=!0}),void 0,(function(){if(i)try{c--;for(;u.length&&c<n;)t=void 0,t=u.shift(),p(t);d()}catch(t){e.error(t)}var t})))};return t.subscribe(we(e,f,(function(){h=!0,d()}))),function(){}}(e,n,t,r)})))}function Ee(t,e){return t===e}function Oe(t,e){return de((function(r,n){var i=null,o=0,s=!1,l=function(){return s&&!i&&n.complete()};r.subscribe(we(n,(function(r){null==i||i.unsubscribe();var s=0,u=o++;ae(t(r,u)).subscribe(i=we(n,(function(t){return n.next(e?e(r,t,u,s++):t)}),(function(){i=null,l()})))}),(function(){s=!0,l()})))}))}function Pe(t,e){return void 0===e&&(e=0),de((function(r,n){r.subscribe(we(n,(function(r){return Se(n,t,(function(){return n.next(r)}),e)}),(function(){return Se(n,t,(function(){return n.complete()}),e)}),(function(r){return Se(n,t,(function(){return n.error(r)}),e)})))}))}function Ce(t,e){return void 0===e&&(e=0),de((function(r,n){n.add(t.schedule((function(){return r.subscribe(n)}),e))}))}function Te(t,e){if(!t)throw new Error("Iterable cannot be null");return new Kt((function(r){Se(r,e,(function(){var n=t[Symbol.asyncIterator]();Se(r,e,(function(){n.next().then((function(t){t.done?r.complete():r.next(t.value)}))}),0,!0)}))}))}function je(t,e){return e?function(t,e){if(null!=t){if(ne(t))return function(t,e){return ae(t).pipe(Ce(e),Pe(e))}(t,e);if(ee(t))return function(t,e){return new Kt((function(r){var n=0;return e.schedule((function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())}))}))}(t,e);if(re(t))return function(t,e){return ae(t).pipe(Ce(e),Pe(e))}(t,e);if(ie(t))return Te(t,e);if(le(t))return function(t,e){return new Kt((function(r){var n;return Se(r,e,(function(){n=t[se](),Se(r,e,(function(){var t,e,i;try{e=(t=n.next()).value,i=t.done}catch(t){return void r.error(t)}i?r.complete():r.next(e)}),0,!0)})),function(){return yt(null==n?void 0:n.return)&&n.return()}}))}(t,e);if(ce(t))return function(t,e){return Te(ue(t),e)}(t,e)}throw oe(t)}(t,e):ae(t)}function ke(t,e){void 0===e&&(e={});var r=e.selector,n=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(e,["selector"]);return new Kt((function(e){var i=new AbortController,o=i.signal,s=!0,l=n.signal;if(l)if(l.aborted)i.abort();else{var u=function(){o.aborted||i.abort()};l.addEventListener("abort",u),e.add((function(){return l.removeEventListener("abort",u)}))}var c=at(at({},n),{signal:o}),a=function(t){s=!1,e.error(t)};return fetch(t,c).then((function(t){r?ae(r(t)).subscribe(we(e,void 0,(function(){s=!1,e.complete()}),a)):(s=!1,e.next(t),e.complete())})).catch(a),function(){s&&i.abort()}}))}const Re=new class{constructor(){this.backendUrl=window.location.origin}getConfiguration(){return ke(this.createRoute("questions")).pipe(Oe((t=>je(t.json()))),Ae((t=>t)))}getPollResult(){return ke(this.createRoute("pollresult")).pipe(Oe((t=>je(t.json()))),Ae((t=>t)))}postPollResult(t,e){return ke(this.createRoute(`pollresult?id=${t}&alternative=${e}`),{method:"POST"})}createRoute(t){return`${this.backendUrl}/${t}`}},Ie=new class{constructor(t){var e,r;this.questions$=t.getConfiguration().pipe(pe(1)),this.pollResult$=(e=500,void 0===e&&(e=0),void 0===r&&(r=_e),e<0&&(e=0),function(t,e,r){void 0===t&&(t=0),void 0===r&&(r=ge);var n,i=-1;return null!=e&&((n=e)&&yt(n.schedule)?r=e:i=e),new Kt((function(e){var n=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-r.now():t;n<0&&(n=0);var o=0;return r.schedule((function(){e.closed||(e.next(o++),0<=i?this.schedule(void 0,i):e.complete())}),n)}))}(e,e,r)).pipe(xe((()=>t.getPollResult())),Ae((t=>t)),Ae((t=>{return e=t,Object.keys(e).map((t=>{const r=Number.parseInt(t),n=e[t].reduce(((t,e)=>t+e));return{id:r,position:Math.round(e[t][0]/n*100)||50}}));var e})),pe(1))}getPollProgress(t){return console.log(t),this.pollResult$.pipe(Ae((e=>e.find((e=>e.id===t))?.position||50)),(void 0===r&&(r=Ft),e=null!=e?e:Ee,de((function(t,n){var i,o=!0;t.subscribe(we(n,(function(t){var s=r(t);!o&&e(i,s)||(o=!1,i=s,n.next(t))})))}))));var e,r}}(Re),Ue=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(r){r.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(r){r.createProperty(e.key,t)}};function ze(t){return(e,r)=>void 0!==r?((t,e,r)=>{e.constructor.createProperty(r,t)})(t,e,r):Ue(t,e)}const He=o`.bar-header{display:flex;justify-content:space-between}.progress{align-content:stretch;display:flex;border-style:solid;border-color:#eabb26;border-radius:10px}.progress .left{border-right-color:#eabb26;border-right-style:solid}.progress .left,.progress .right{transition:flex .5s;height:100%;padding:.5rem 2rem;text-align:center;color:#fff;font-size:large;font-weight:800}.alternative{display:flex;color:#fff;font-weight:800;font-size:large;align-items:center;gap:2rem;padding:1rem 4rem 0rem 4rem}.alternative-emoji{font-size:xx-large;margin:0}`;var Ne=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let qe=class extends et{set question(t){var e,r,n,i;this._question=t,this.barPosition=ot(this,Ie.getPollProgress(this._question?.id||0).pipe((e=t=>console.log(t),(i=yt(e)?{next:e,error:r,complete:n}:e)?de((function(t,e){var r;null===(r=i.subscribe)||void 0===r||r.call(i);var n=!0;t.subscribe(we(e,(function(t){var r;null===(r=i.next)||void 0===r||r.call(i,t),e.next(t)}),(function(){var t;n=!1,null===(t=i.complete)||void 0===t||t.call(i),e.complete()}),(function(t){var r;n=!1,null===(r=i.error)||void 0===r||r.call(i,t),e.error(t)}),(function(){var t,e;n&&(null===(t=i.unsubscribe)||void 0===t||t.call(i)),null===(e=i.finalize)||void 0===e||e.call(i)})))})):Ft)))}render(){return z`
      <div class="bar" style="width: 100%">
        <div class="bar-header">
           ${this._question?.alternatives.map((t=>this.renderAlternative(t)))}
        </div>
        ${this.renderBars()}
      </div>
    `}renderBar(t){const e=100-t;return z`<div class="progress">
      <div class="left bar" style="flex-grow: ${t}">${t}</div>
      <div class="right bar" style="flex-grow: ${e}">${e}</div>
    </div>`}renderBars(){return this.barPosition?this.renderBar(this.barPosition.value||50):this.renderBar(50)}renderAlternative(t){return z`
    <div class="alternative">
      <p class="alternative-title">${t.name}</p>
      <p class="alternative-emoji">${t.emoji}</p>
    </div>
    `}};qe.styles=[He],Ne([ze({type:Object})],qe.prototype,"question",null),qe=Ne([nt("vote-bar")],qe);let Me=class extends et{constructor(){super(...arguments),this.questions=ot(this,Ie.questions$)}render(){return z`${this.questions.value?.map((t=>z`<vote-bar .question=${t}></vote-bar>`))}`}};Me.styles=[it],Me=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([nt("vote-screen")],Me);const Be=o`:host{color:#fff}`;function De(t){return ze({...t,state:!0})}const Le=o`button{display:inline-block;border:none;padding:1rem 1rem;margin:0;text-decoration:none;background:#0069ed;color:#fff;font-family:sans-serif;font-size:1rem;line-height:1;cursor:pointer;text-align:center;transition:background 250ms ease-in-out,transform 150ms ease;-webkit-appearance:none;-moz-appearance:none;font-weight:800;width:100%;height:150px;margin-top:2rem;font-size:xx-large}`,Qe=o`.buttons{display:flex;justify-content:end}.buttons button{display:inline-block;border:none;padding:1rem 1rem;margin:0;text-decoration:none;background:#0069ed;color:#fff;font-family:sans-serif;font-size:1rem;line-height:1;cursor:pointer;text-align:center;transition:background 250ms ease-in-out,transform 150ms ease;-webkit-appearance:none;-moz-appearance:none;font-weight:800;width:120px}`;let We=class extends et{render(){return z`
      <div class="buttons">
        <button @mouseup=${this.onButtonClick} type="button">NESTE</button>
      </div>`}onButtonClick(){this.dispatchEvent(new CustomEvent("pagination-button-click"))}};We.styles=[Qe],We=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([nt("app-paginator")],We);var Fe=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let Ve=class extends et{constructor(){super(...arguments),this.questions=[],this.currentQuestionId=0,this.isFirstQuestion=!0,this.isLastQuestion=!1}render(){return z`<div>
          <h3>${this.questions[this.currentQuestionId].description}?</h3>
          <div class="alternatives">
            ${this.renderAlternatives(this.questions[this.currentQuestionId].alternatives)}
          </div>
    </div>`}renderAlternatives(t){return t.map(((t,e)=>z`
      <div class="alternative">
<button @click=${()=>this.onAlternativeClick(e)}>${t.emoji} ${t.name}</button>
      </div>
    `))}onAlternativeClick(t){Re.postPollResult(this.currentQuestionId,t).subscribe((()=>{this.increment()}))}increment(){this.currentQuestionId+1!==this.questions.length?this.currentQuestionId++:this.dispatchEvent(new CustomEvent("on-quiz-completed"))}};Ve.styles=[Le],Fe([ze({type:Array})],Ve.prototype,"questions",void 0),Fe([De(),De()],Ve.prototype,"currentQuestionId",void 0),Fe([De()],Ve.prototype,"isFirstQuestion",void 0),Fe([De()],Ve.prototype,"isLastQuestion",void 0),Ve=Fe([nt("app-quiz")],Ve);const Ke=o``;let Ye=class extends et{render(){return z`<h1>Takk for bidraget</h1><h3>Legg ned telefonen og følg med på Klingen 😜 </h3>`}};Ye.styles=[Ke],Ye=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}([nt("app-complete")],Ye);var Ze=function(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};let Je=class extends et{constructor(){super(...arguments),this.questions=ot(this,Ie.questions$,[]),this.showQuiz=!0}render(){return z`<div>
      <h2 class="title">State of Kode24-dagen</h2>
${this.showQuiz?z`<app-quiz @on-quiz-completed=${()=>this.showQuiz=!1} .questions=${this.questions.value}></app-quiz>`:z`<app-complete></app-complete>`}
    </div>`}};Je.styles=[Be],Ze([De()],Je.prototype,"showQuiz",void 0),Je=Ze([nt("app-screen")],Je)})();